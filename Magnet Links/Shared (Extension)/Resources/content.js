!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){var t,e="undefined"!=typeof browser,n="undefined"!=typeof chrome,r=Array.isArray,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i="object"==typeof self&&self&&self.Object===Object&&self,a="object"==typeof o&&o&&o.Object===Object&&o||i||Function("return this")(),u=a.Symbol,c=Object.prototype,f=c.hasOwnProperty,l=c.toString,s=u?u.toStringTag:void 0,p=Object.prototype.toString,h=u?u.toStringTag:void 0,d=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?function(t){var e=f.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=l.call(t);return r&&(e?t[s]=n:delete t[s]),o}(t):function(t){return p.call(t)}(t)},y=function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==d(t)},_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,v=/^\w*$/,g=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=a["__core-js_shared__"],j=(t=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",m=Function.prototype.toString,w=/^\[object .+?Constructor\]$/,O=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!g(t)||(e=t,j&&j in e))&&(function(t){if(!g(t))return!1;var e=d(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?O:w).test(function(t){if(null!=t){try{return m.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}(n)?n:void 0},S=z(Object,"create"),P=Object.prototype.hasOwnProperty,$=Object.prototype.hasOwnProperty;function E(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}E.prototype.clear=function(){this.__data__=S?S(null):{},this.size=0},E.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},E.prototype.get=function(t){var e=this.__data__;if(S){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return P.call(e,t)?e[t]:void 0},E.prototype.has=function(t){var e=this.__data__;return S?void 0!==e[t]:$.call(e,t)},E.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=S&&void 0===e?"__lodash_hash_undefined__":e,this};var A=E,T=function(t,e){for(var n=t.length;n--;)if((r=t[n][0])===(o=e)||r!=r&&o!=o)return n;var r,o;return-1},x=Array.prototype.splice;function C(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(t){var e=this.__data__,n=T(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),--this.size,0))},C.prototype.get=function(t){var e=this.__data__,n=T(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return T(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,r=T(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var F=C,k=z(a,"Map"),I=function(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map};function R(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}R.prototype.clear=function(){this.size=0,this.__data__={hash:new A,map:new(k||F),string:new A}},R.prototype.delete=function(t){var e=I(this,t).delete(t);return this.size-=e?1:0,e},R.prototype.get=function(t){return I(this,t).get(t)},R.prototype.has=function(t){return I(this,t).has(t)},R.prototype.set=function(t,e){var n=I(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var q=R;function D(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(D.Cache||q),n}D.Cache=q;var G,L,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,U=(G=D(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(M,function(t,n,r,o){e.push(r?o.replace(N,"$1"):n||t)}),e},function(t){return 500===L.size&&L.clear(),t}),L=G.cache,G),B=u?u.prototype:void 0,H=B?B.toString:void 0,J=function t(e){if("string"==typeof e)return e;if(r(e))return function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(e,t)+"";if(y(e))return H?H.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n},K=function(t,e){return r(t)?t:function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!y(t))||v.test(t)||!_.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:U(function(t){return null==t?"":J(t)}(t))},Q=function(t){if("string"==typeof t||y(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};(function(){try{return Promise.resolve(e?browser.storage.local.get("data").then(function(t){return t}):n?new Promise(function(t,e){chrome.storage.local.get("data",function(n){chrome.runtime.lastError?e(chrome.runtime.lastError):t(n)})}):{})}catch(t){return Promise.reject(t)}})().then(function(t){var e=t.data;document.querySelectorAll("a[href^=magnet\\:]").forEach(function(t){e.mode.shouldCopy?t.addEventListener("click",function(e){e.preventDefault(),navigator.clipboard.writeText(t.href),window.alert("Copied to clipboard")}):t.href=""+function(t,e,n){var r=null==t?void 0:function(t,e){for(var n=0,r=(e=K(e,t)).length;null!=t&&n<r;)t=t[Q(e[n++])];return n&&n==r?t:void 0}(t,"mode.prefix");return void 0===r?"https://put.io/default/magnet?url=":r}(e)+t.href})})});
